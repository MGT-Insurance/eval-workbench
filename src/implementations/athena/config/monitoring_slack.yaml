version: "1.0"
name: "athena_slack_monitor"

# Data source configuration
source:
  type: slack
  name: "support_channels"
  channel_ids:
    - "C09MAP9HR9D"
    - "C09JE5SSP43"
  limit: 50
  scrape_threads: true
  bot_name: "Athena"
  workspace_domain: "mgtinsurance"
  drop_if_first_is_user: true
  drop_if_all_ai: true
  max_concurrent: 2

# Sampling strategy: controls which items get evaluated from fetched pool
# Available strategies: all, random, most_recent, oldest
sampling:
  strategy: random
  n: 10
  # seed: 42  # optional: for reproducible random sampling

# Metrics configuration
# Note: Add your Slack conversation analyzer metric here
metrics_config:
  SlackConversationAnalyzer:
    class: "slack_conversation_analyzer"

# Publishing configuration
publishing:
  push_to_db: true
  push_to_langfuse: false
  # Whether to trace evaluation runs in Langfuse (creates observation traces)
  trace_experiment: false

  # Database upload configuration (used when push_to_db: true)
  database:
    # connection_string: "postgresql://..."  # Override DATABASE_URL env var
    on_conflict: do_nothing  # do_nothing | upsert | error
    chunk_size: 1000         # Rows per batch upload

  experiment:
    enabled: false
